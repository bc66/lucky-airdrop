(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["claim"],{"0195":function(e,t,n){n("b0e1"),e.exports=n("836e").Array.isArray},"0811":function(e,t,n){var r=n("419b"),i=n("0902")("iterator"),o=n("9191");e.exports=n("836e").getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[r(e)]}},"0948":function(e,t,n){var r=n("a051"),i=r.navigator;e.exports=i&&i.userAgent||""},"10b2":function(e,t){},"154a":function(e,t,n){"use strict";var r=n("1d10");function i(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=r(t),this.reject=r(n)}e.exports.f=function(e){return new i(e)}},1969:function(e,t,n){var r=n("0902")("iterator"),i=!1;try{var o=[7][r]();o["return"]=function(){i=!0},Array.from(o,function(){throw 2})}catch(s){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o=[7],a=o[r]();a.next=function(){return{done:n=!0}},o[r]=function(){return a},e(o)}catch(s){}return n}},"1b3c":function(e,t,n){n("98be"),n("4d6c"),e.exports=n("d317")},"1c04":function(e,t,n){var r=n("38b2"),i=n("7182"),o=n("ba15")("IE_PROTO"),s=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},"200d":function(e,t,n){"use strict";var r=n("471d"),i=n("836e"),o=n("a051"),s=n("2ba9"),a=n("e1bd");r(r.P+r.R,"Promise",{finally:function(e){var t=s(this,i.Promise||o.Promise),n="function"==typeof e;return this.then(n?function(n){return a(t,e()).then(function(){return n})}:e,n?function(n){return a(t,e()).then(function(){throw n})}:e)}})},2353:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return s});var r=n("c099"),i=n.n(r),o=n("c2e7");class s{constructor(e){this.profile=e}encode(e){const t=a(e,this.profile,"");return o["encode"](t)}decode(e){const t=o["decode"](e);return c(t,this.profile,"")}}function a(e,t,n){n=n?n+"."+t.name:t.name;const r=t.kind;if(r instanceof s.ScalarKind)return r.data(e,n).encode();if(Array.isArray(r))return r.map(t=>a(e[t.name],t,n));u(Array.isArray(e),n,"expected array");const i=r.item;return e.map((e,t)=>a(e,{name:"#"+t,kind:i},n))}function c(t,n,r){r=r?r+"."+n.name:n.name;const i=n.kind;if(i instanceof s.ScalarKind)return i instanceof s.RawKind||u(e.isBuffer(t),r,"expected Buffer"),i.buffer(t,r).decode();if(Array.isArray(i)){u(Array.isArray(t),r,"expected array");const e=t;return u(e.length===i.length,r,`expected ${i.length} items, but got ${e.length}`),i.reduce((t,n,i)=>{return t[n.name]=c(e[i],n,r),t},{})}u(Array.isArray(t),r,"expected array");const o=i.item;return t.map((e,t)=>c(e,{name:"#"+t,kind:o},r))}function u(e,t,n){if(!e)throw new d(`${t}: ${n}`)}function l(e){return/^0x[0-9a-f]*$/i.test(e)}function f(e){return/^[0-9]+$/.test(e)}(function(t){class n{}t.ScalarKind=n;class r extends n{data(e,t){return{encode(){return e}}}buffer(e,t){return{decode(){return e}}}}t.RawKind=r;class o extends n{constructor(e){super(),this.maxBytes=e}data(t,n){if(u("string"===typeof t||"number"===typeof t,n,"expected string or number"),"string"===typeof t){const e=l(t),r=f(t);u(e||r,n,"expected non-negative integer in hex or dec string"),e&&u(t.length>2,n,"expected valid hex string")}else u(Number.isSafeInteger(t)&&t>=0,n,"expected non-negative safe integer");const r=new i.a(t);if(r.isZero())return{encode(){return e.alloc(0)}};let o=r.toString(16);return o.length%2!==0&&(o="0"+o),u(!this.maxBytes||o.length<=2*this.maxBytes,n,`expected number in ${this.maxBytes} bytes`),{encode(){return e.from(o,"hex")}}}buffer(e,t){return u(!this.maxBytes||e.length<=this.maxBytes,t,`expected less than ${this.maxBytes} bytes`),u(0===e.length||0!==e[0],t,"expected canonical integer (no leading zero bytes)"),{decode(){if(0===e.length)return 0;const t=new i.a(e.toString("hex"),16),n=t.toNumber();return Number.isSafeInteger(n)?n:"0x"+t.toString(16)}}}}t.NumericKind=o;class s extends n{data(t,n){return u(l(t),n,"expected hex string"),u(t.length%2===0,n,"expected even length hex"),{encode(){return e.from(t.slice(2),"hex")}}}buffer(e,t){return{decode(){return"0x"+e.toString("hex")}}}}t.BlobKind=s;class a extends s{constructor(e){super(),this.bytes=e}data(e,t){const n=super.data(e,t);return u(e.length===2*this.bytes+2,t,`expected hex string presents ${this.bytes} bytes`),n}buffer(e,t){const n=super.buffer(e,t);return u(e.length===this.bytes,t,`expected ${this.bytes} bytes`),n}}t.FixedBlobKind=a;class c extends a{data(t,n){return t?super.data(t,n):{encode(){return e.alloc(0)}}}buffer(e,t){return 0===e.length?{decode(){return null}}:super.buffer(e,t)}}t.NullableFixedBlobKind=c;class d extends a{data(t,n){const r=super.data(t,n).encode();return{encode(){const t=r.findIndex(e=>0!==e);return t>=0?r.slice(t):e.alloc(0)}}}buffer(e,t){u(e.length<=this.bytes,t,`expected less than ${this.bytes} bytes`),u(0===e.length||0!==e[0],t,"expected no leading zero bytes");const n=this.bytes;return{decode(){const t="0".repeat(2*(n-e.length));return"0x"+t+e.toString("hex")}}}}t.CompactFixedBlobKind=d})(s||(s={}));class d extends Error{constructor(e){super(e),this.name=d.name}}}).call(this,n("1c3f").Buffer)},2619:function(e,t,n){"use strict";var r=n("471d"),i=n("154a"),o=n("dd02");r(r.S,"Promise",{try:function(e){var t=i.f(this),n=o(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}})},2696:function(e,t,n){e.exports=n("1b3c")},"26ef":function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},2971:function(e,t,n){var r=n("8232"),i=n("44a7"),o=n("33ef"),s=n("0bc6"),a=n("3202"),c=n("0811"),u={},l={};t=e.exports=function(e,t,n,f,d){var h,v,p,m,g=d?function(){return e}:c(e),y=r(n,f,t?2:1),w=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(o(g)){for(h=a(e.length);h>w;w++)if(m=t?y(s(v=e[w])[0],v[1]):y(e[w]),m===u||m===l)return m}else for(p=g.call(e);!(v=p.next()).done;)if(m=i(p,y,v.value,t),m===u||m===l)return m};t.BREAK=u,t.RETURN=l},"2ba9":function(e,t,n){var r=n("0bc6"),i=n("1d10"),o=n("0902")("species");e.exports=function(e,t){var n,s=r(e).constructor;return void 0===s||void 0==(n=r(s)[o])?t:i(n)}},"2f4d":function(e,t,n){"use strict";(function(e){var r=n("1f09"),i=n.n(r),o=(n("48fb"),n("1f10")),s=n.n(o),a=n("0d1e"),c=n.n(a),u=n("a1fe"),l=n("6fea"),f=n("3949"),d=n("a911"),h=2e5,v=new c.a({host:"ipfs.infura.io",port:5001,protocol:"https"});t["a"]={name:"ClaimCard",components:{AfterClaimCard:u["a"]},props:{visitor:String,tokenName:String,envelope:Object},data:function(){return{claimed:!1,isClaiming:!1,counter:20,cTicker:null}},mounted:function(){var e=this;this.envelope.messageLink&&v.cat(this.envelope.messageLink).then(function(t){e.envelope.message=t})},destroyed:function(){clearInterval(this.cTicker)},watch:{"envelope.messageLink":function(e,t){var n=this;this.envelope.messageLink&&v.cat(e).then(function(e){n.envelope.message=e})}},methods:{claim:function(){var t=this;this.isClaiming=!0;var n=atob(this.$route.params.code),r={constant:!1,inputs:[{name:"_id",type:"uint256"},{name:"_claimerAddr",type:"address"},{name:"_signature",type:"bytes"}],name:"claimEnvelope",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},o=[{name:"id",type:"uint256"},{name:"claimer",type:"address"}],a=l["a"].encodeParameters(o,[this.envelope.id,this.visitor]),c=f["a"].secp256k1.sign(f["a"].keccak256(e.from(a.slice(2),"hex")),e.from(n.slice(2),"hex")),u=new l["a"].Function(r).encode(this.envelope.id,this.visitor,"0x"+c.toString("hex"));this.cTicker=setInterval(this.refreshCounter,1e3),fetch(this.$config.providerUrl+"/blocks/best").then(function(e){return e.json()}).then(function(r){var o=r.id.slice(0,18),a={chainTag:t.$config.chainTag,blockRef:o,expiration:360,clauses:[{to:t.$config.contract,value:"0x0",data:u}],gasPriceCoef:0,gas:h,dependsOn:null,nonce:+new Date},c=new d["a"](a),l=f["a"].blake2b256(c.encode());c.signature=f["a"].secp256k1.sign(l,e.from(n.slice(2),"hex"));var v="0x"+c.encode().toString("hex");return fetch(t.$config.providerUrl+"/transactions",{body:i()({raw:v}),headers:{"content-type":"application/json"},method:"POST"}).then(function(e){return e.json()}).then(function(e){t.getReceipt(e.id,function(n,r){if(!n)if(t.isClaiming=!1,r.reverted)console.error("claim tx failed: TxId=".concat(e.id));else{t.claimed=!0;var i=r.outputs[0].events,o=i[i.length-1].data;t.$set(t.envelope,"totalClaimers",t.envelope.totalClaimers+1),t.$set(t.envelope,"claimed",new s.a(o,16).div(Math.pow(10,18)).toFixed(2)),localStorage.setItem("claimed:".concat(t.$config.network,"_").concat(t.envelope.id),t.visitor)}})})}).catch(function(e){console.error(e),t.isClaiming=!1})},getReceipt:function(e,t){var n=0,r=this.$config.providerUrl+"/transactions/".concat(e,"/receipt");function i(){n++,fetch(r).then(function(e){return e.json()}).then(function(e){return console.log(e),e?t(null,e):n<7?void setTimeout(i,1e4):t(new Error("fail to get receipt"),null)})}i()},refreshCounter:function(){0==this.counter&&(this.counter=20),this.counter--}}}}).call(this,n("1c3f").Buffer)},3365:function(e,t,n){n("10b2"),n("4d6c"),n("98be"),n("60fd"),n("200d"),n("2619"),e.exports=n("836e").Promise},"33ef":function(e,t,n){var r=n("9191"),i=n("0902")("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},3732:function(e,t,n){var r=n("a051"),i=n("41f6").set,o=r.MutationObserver||r.WebKitMutationObserver,s=r.process,a=r.Promise,c="process"==n("6dd6")(s);e.exports=function(){var e,t,n,u=function(){var r,i;c&&(r=s.domain)&&r.exit();while(e){i=e.fn,e=e.next;try{i()}catch(o){throw e?n():t=void 0,o}}t=void 0,r&&r.enter()};if(c)n=function(){s.nextTick(u)};else if(!o||r.navigator&&r.navigator.standalone)if(a&&a.resolve){var l=a.resolve(void 0);n=function(){l.then(u)}}else n=function(){i.call(r,u)};else{var f=!0,d=document.createTextNode("");new o(u).observe(d,{characterData:!0}),n=function(){d.data=f=!f}}return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}},"38c8":function(e,t,n){var r=n("69fd"),i=n("04be");e.exports=function(e){return function(t,n){var o,s,a=String(i(t)),c=r(n),u=a.length;return c<0||c>=u?e?"":void 0:(o=a.charCodeAt(c),o<55296||o>56319||c+1===u||(s=a.charCodeAt(c+1))<56320||s>57343?e?a.charAt(c):o:e?a.slice(c,c+2):s-56320+(o-55296<<10)+65536)}}},"3a23":function(e,t,n){var r=n("694f").f,i=Function.prototype,o=/^\s*function ([^ (]*)/,s="name";s in i||n("3a0f")&&r(i,s,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},"412d":function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},"419b":function(e,t,n){var r=n("6dd6"),i=n("0902")("toStringTag"),o="Arguments"==r(function(){return arguments}()),s=function(e,t){try{return e[t]}catch(n){}};e.exports=function(e){var t,n,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=s(t=Object(e),i))?n:o?r(t):"Object"==(a=r(t))&&"function"==typeof t.callee?"Arguments":a}},"41f6":function(e,t,n){var r,i,o,s=n("8232"),a=n("412d"),c=n("7608"),u=n("d819"),l=n("a051"),f=l.process,d=l.setImmediate,h=l.clearImmediate,v=l.MessageChannel,p=l.Dispatch,m=0,g={},y="onreadystatechange",w=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},b=function(e){w.call(e.data)};d&&h||(d=function(e){var t=[],n=1;while(arguments.length>n)t.push(arguments[n++]);return g[++m]=function(){a("function"==typeof e?e:Function(e),t)},r(m),m},h=function(e){delete g[e]},"process"==n("6dd6")(f)?r=function(e){f.nextTick(s(w,e,1))}:p&&p.now?r=function(e){p.now(s(w,e,1))}:v?(i=new v,o=i.port2,i.port1.onmessage=b,r=s(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(r=function(e){l.postMessage(e+"","*")},l.addEventListener("message",b,!1)):r=y in u("script")?function(e){c.appendChild(u("script"))[y]=function(){c.removeChild(this),w.call(e)}}:function(e){setTimeout(s(w,e,1),0)}),e.exports={set:d,clear:h}},"44a7":function(e,t,n){var r=n("0bc6");e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(s){var o=e["return"];throw void 0!==o&&r(o.call(e)),s}}},4823:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"app"},[n("header",{staticClass:"navbar navbar-default",attrs:{id:"header"}},[n("div",{staticClass:"container-fluid header"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-sm-3 col-xs-12 navbar-header header--logo"},[n("h3",[n("router-link",{attrs:{to:{name:"home"}}},[e._v(e._s(e.$t("app_name")))])],1)]),n("div",{staticClass:"col-sm-6 hidden-xs header--thor-info"},[n("div",{staticClass:"header--thor-info--wrap"},[n("div",{staticClass:"header--thor-info--wrap text-center"},[n("div",[n("strong",[e._v(e._s(e.$t("account_label"))+": ")]),n("span",[n("a",{attrs:{href:e.accountLink,target:"_blank"}},[e._v(e._s(e.visitor))])])]),e._v(" |\n              "),n("div",[n("strong",[e._v(e._s(e.$t("network"))+": ")]),e._v(e._s(e.network))])])])]),n("div",{staticClass:"col-sm-3 col-xs-6 navbar-header locale-select"},[n("h5",[n("span",[n("a",{attrs:{href:"#"},on:{click:function(t){return e.setLocale("en-US")}}},[e._v("English")]),e._v(" | "),n("a",{attrs:{href:"#"},on:{click:function(t){return e.setLocale("zh-CN")}}},[e._v("简体中文")])])])])])])]),n("div",{staticClass:"container"},[e.showInptModal?n("div",{staticClass:"alert envelope--modal"},[n("div",{staticClass:"envelope--modal--container"},[n("div",{staticClass:"envelope--modal--loading"},[n("span",{staticClass:"animated"},[n("svg",{staticClass:"svg--icon-dog",attrs:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 100 100","xml:space":"preserve"}},[n("circle",{attrs:{cx:"46.2",cy:"35",r:"3.7"}}),n("path",{attrs:{d:"M63.7,31.3c-3.1-8.7-11.4-15-21.2-15l-7.5,0c-6.1,0-11.3,3.6-13.7,8.8c-5.2,2.4-8.8,7.6-8.8,13.7v30H20v15h37.5V61.2l7.5,0  c12.4,0,22.5-10.1,22.5-22.5v-7.5H63.7z M65,53.7h-7.5c-4.1,0-7.5,3.4-7.5,7.5v15H27.5v-7.5c8.3,0,15-6.7,15-15v-7.5  c0-2.1-1.7-3.7-3.8-3.7S35,44.2,35,46.3v7.5c0,4.1-3.4,7.5-7.5,7.5l-7.5,0V38.8c0-4.1,3.4-7.5,7.5-7.5c0-4.1,3.4-7.5,7.5-7.5h7.5  c8.3,0,15,6.7,15,15H65h15C80,47,73.3,53.7,65,53.7z"}})])])]),n("div",{staticClass:"envelope--modal--details"},[n("div",{staticClass:"container-fluid"},[n("div",{staticClass:"envelope--field"},[n("h3",[e._v("Input your address")]),e._m(0),n("div",{staticClass:"envelope--input"},[n("div",{staticClass:"input-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.address,expression:"address"}],class:{"has-error":!e.isAddress()},attrs:{type:"text",placeholder:"0x"},domProps:{value:e.address},on:{input:function(t){t.target.composing||(e.address=t.target.value)}}})])])]),n("div",{staticClass:"envelope--create-button--close"},[n("button",{attrs:{disabled:!e.isAddress()},on:{click:e.handleContinue}},[n("h4",[e._v("Continue")])])])])])])]):e._e(),n("ShareCard",{attrs:{shareLink:e.shareLink}}),"creator"==e.role?n("RedPacketInfo",{attrs:{visitor:e.visitor,envelope:e.envelope,tokenName:e.tokenName}}):"claimer"==e.role&&"0.00"==e.envelope.claimed&&"2"!=e.envelope.status?n("ClaimCard",{attrs:{visitor:e.visitor,envelope:e.envelope,tokenName:e.tokenName}}):"claimer"==e.role&&"0.00"!=e.envelope.claimed?n("AfterClaimCard",{attrs:{envelope:e.envelope,tokenName:e.tokenName}}):n("RedPacketInfo",{attrs:{visitor:e.visitor,envelope:e.envelope,tokenName:e.tokenName}}),n("CertModal",{directives:[{name:"show",rawName:"v-show",value:e.showCertModal,expression:"showCertModal"}]})],1)])},i=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h4",[n("span",[e._v("Please input your wallet address to catch your luck.")]),n("br")])}],o=n("f7bf"),s=o["a"],a=(n("f1eb"),n("17cc")),c=Object(a["a"])(s,r,i,!1,null,"044f5224",null);t["default"]=c.exports},"4d6c":function(e,t,n){"use strict";var r=n("38c8")(!0);n("750d")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},"50cd":function(e,t,n){"use strict";var r=n("4cf4"),i=n("0763");e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}},"605f":function(e,t,n){"use strict";var r=n("8070"),i=n("0763"),o=n("3967"),s={};n("3a22")(s,n("0902")("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(s,{next:i(1,n)}),o(e,t+" Iterator")}},"60fd":function(e,t,n){"use strict";var r,i,o,s,a=n("4df6"),c=n("a051"),u=n("8232"),l=n("419b"),f=n("471d"),d=n("38cc"),h=n("1d10"),v=n("d770e"),p=n("2971"),m=n("2ba9"),g=n("41f6").set,y=n("3732")(),w=n("154a"),b=n("dd02"),x=n("0948"),_=n("e1bd"),C="Promise",k=c.TypeError,S=c.process,A=S&&S.versions,L=A&&A.v8||"",N=c[C],O="process"==l(S),E=function(){},T=i=w.f,M=!!function(){try{var e=N.resolve(1),t=(e.constructor={})[n("0902")("species")]=function(e){e(E,E)};return(O||"function"==typeof PromiseRejectionEvent)&&e.then(E)instanceof t&&0!==L.indexOf("6.6")&&-1===x.indexOf("Chrome/66")}catch(r){}}(),$=function(e){var t;return!(!d(e)||"function"!=typeof(t=e.then))&&t},P=function(e,t){if(!e._n){e._n=!0;var n=e._c;y(function(){var r=e._v,i=1==e._s,o=0,s=function(t){var n,o,s,a=i?t.ok:t.fail,c=t.resolve,u=t.reject,l=t.domain;try{a?(i||(2==e._h&&B(e),e._h=1),!0===a?n=r:(l&&l.enter(),n=a(r),l&&(l.exit(),s=!0)),n===t.promise?u(k("Promise-chain cycle")):(o=$(n))?o.call(n,c,u):c(n)):u(r)}catch(f){l&&!s&&l.exit(),u(f)}};while(n.length>o)s(n[o++]);e._c=[],e._n=!1,t&&!e._h&&I(e)})}},I=function(e){g.call(c,function(){var t,n,r,i=e._v,o=R(e);if(o&&(t=b(function(){O?S.emit("unhandledRejection",i,e):(n=c.onunhandledrejection)?n({promise:e,reason:i}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",i)}),e._h=O||R(e)?2:1),e._a=void 0,o&&t.e)throw t.v})},R=function(e){return 1!==e._h&&0===(e._a||e._c).length},B=function(e){g.call(c,function(){var t;O?S.emit("rejectionHandled",e):(t=c.onrejectionhandled)&&t({promise:e,reason:e._v})})},j=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),P(t,!0))},D=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw k("Promise can't be resolved itself");(t=$(e))?y(function(){var r={_w:n,_d:!1};try{t.call(e,u(D,r,1),u(j,r,1))}catch(i){j.call(r,i)}}):(n._v=e,n._s=1,P(n,!1))}catch(r){j.call({_w:n,_d:!1},r)}}};M||(N=function(e){v(this,N,C,"_h"),h(e),r.call(this);try{e(u(D,this,1),u(j,this,1))}catch(t){j.call(this,t)}},r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},r.prototype=n("6e32")(N.prototype,{then:function(e,t){var n=T(m(this,N));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=O?S.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&P(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new r;this.promise=e,this.resolve=u(D,e,1),this.reject=u(j,e,1)},w.f=T=function(e){return e===N||e===s?new o(e):i(e)}),f(f.G+f.W+f.F*!M,{Promise:N}),n("3967")(N,C),n("f703")(C),s=n("836e")[C],f(f.S+f.F*!M,C,{reject:function(e){var t=T(this),n=t.reject;return n(e),t.promise}}),f(f.S+f.F*(a||!M),C,{resolve:function(e){return _(a&&this===s?N:this,e)}}),f(f.S+f.F*!(M&&n("1969")(function(e){N.all(e)["catch"](E)})),C,{all:function(e){var t=this,n=T(t),r=n.resolve,i=n.reject,o=b(function(){var n=[],o=0,s=1;p(e,!1,function(e){var a=o++,c=!1;n.push(void 0),s++,t.resolve(e).then(function(e){c||(c=!0,n[a]=e,--s||r(n))},i)}),--s||r(n)});return o.e&&i(o.v),n.promise},race:function(e){var t=this,n=T(t),r=n.reject,i=b(function(){p(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return i.e&&r(i.v),n.promise}})},"612f":function(e,t,n){for(var r=n("5c07"),i=n("d753"),o=n("7f00"),s=n("4839"),a=n("c84b"),c=n("f03e"),u=n("f3ae"),l=u("iterator"),f=u("toStringTag"),d=c.Array,h={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},v=i(h),p=0;p<v.length;p++){var m,g=v[p],y=h[g],w=s[g],b=w&&w.prototype;if(b&&(b[l]||a(b,l,d),b[f]||a(b,f,g),c[g]=d,y))for(m in r)b[m]||o(b,m,r[m],!0)}},"6e32":function(e,t,n){var r=n("3a22");e.exports=function(e,t,n){for(var i in t)n&&e[i]?e[i]=t[i]:r(e,i,t[i]);return e}},"750d":function(e,t,n){"use strict";var r=n("4df6"),i=n("471d"),o=n("067f"),s=n("3a22"),a=n("9191"),c=n("605f"),u=n("3967"),l=n("1c04"),f=n("0902")("iterator"),d=!([].keys&&"next"in[].keys()),h="@@iterator",v="keys",p="values",m=function(){return this};e.exports=function(e,t,n,g,y,w,b){c(n,t,g);var x,_,C,k=function(e){if(!d&&e in N)return N[e];switch(e){case v:return function(){return new n(this,e)};case p:return function(){return new n(this,e)}}return function(){return new n(this,e)}},S=t+" Iterator",A=y==p,L=!1,N=e.prototype,O=N[f]||N[h]||y&&N[y],E=O||k(y),T=y?A?k("entries"):E:void 0,M="Array"==t&&N.entries||O;if(M&&(C=l(M.call(new e)),C!==Object.prototype&&C.next&&(u(C,S,!0),r||"function"==typeof C[f]||s(C,f,m))),A&&O&&O.name!==p&&(L=!0,E=function(){return O.call(this)}),r&&!b||!d&&!L&&N[f]||s(N,f,E),a[t]=E,a[S]=m,y)if(x={values:A?E:k(p),keys:w?E:k(v),entries:T},b)for(_ in x)_ in N||o(N,_,x[_]);else i(i.P+i.F*(d||L),t,x);return x}},"7f3f":function(e,t,n){"use strict";var r=n("9b64"),i=n("26ef"),o=n("9191"),s=n("fdb5");e.exports=n("750d")(Array,"Array",function(e,t){this._t=s(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),o.Arguments=o.Array,r("keys"),r("values"),r("entries")},"8af1":function(e,t,n){"use strict";var r=n("8232"),i=n("471d"),o=n("7182"),s=n("44a7"),a=n("33ef"),c=n("3202"),u=n("50cd"),l=n("0811");i(i.S+i.F*!n("1969")(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,i,f,d=o(e),h="function"==typeof this?this:Array,v=arguments.length,p=v>1?arguments[1]:void 0,m=void 0!==p,g=0,y=l(d);if(m&&(p=r(p,v>2?arguments[2]:void 0,2)),void 0==y||h==Array&&a(y))for(t=c(d.length),n=new h(t);t>g;g++)u(n,g,m?p(d[g],g):d[g]);else for(f=y.call(d),n=new h;!(i=f.next()).done;g++)u(n,g,m?s(f,p,[i.value,g],!0):i.value);return n.length=g,n}})},9191:function(e,t){e.exports={}},"92dd":function(e,t,n){n("4d6c"),n("8af1"),e.exports=n("836e").Array.from},"97b2":function(e,t,n){var r=n("419b"),i=n("0902")("iterator"),o=n("9191");e.exports=n("836e").isIterable=function(e){var t=Object(e);return void 0!==t[i]||"@@iterator"in t||o.hasOwnProperty(r(t))}},"98be":function(e,t,n){n("7f3f");for(var r=n("a051"),i=n("3a22"),o=n("9191"),s=n("0902")("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<a.length;c++){var u=a[c],l=r[u],f=l&&l.prototype;f&&!f[s]&&i(f,s,u),o[u]=o.Array}},"9b64":function(e,t){e.exports=function(){}},a1fe:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container-fluid envelope-wrap"},[n("div",{staticClass:"envelope-wrap--title"},[n("h2",[e._v(e._s(e.$t("claim.claimed_text"))+" "+e._s(e.envelope.claimed)+" "+e._s(e.tokenName)+".")])]),n("div",{staticClass:"container-fluid envelope-container envelope-container--claim"},[n("div",{staticClass:"container-fluid envelope-info"},[n("div",{staticClass:"row envelope-info--top"},[n("div",{staticClass:"col-xs-5 left-align"},[e._v(e._s(e.$t("envelope"))+" #"+e._s(e.envelope.id))]),n("div",{staticClass:"col-xs-7 right-align"},[e.envelope.duration>0?n("span",[e._v("\n            Expires\n            "),n("time",{attrs:{datetime:"2019-03-04T15:58:09.000Z",title:"2019-03-04 15:58"}},[e._v("in "+e._s(e._f("duration")(1e3*e.envelope.duration,"humanize")))])]):n("span",[e._v(e._s(e.$t("expired")))])])]),n("div",[n("svg",{staticClass:"svg--icon-dog",attrs:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 100 100","xml:space":"preserve"}},[n("circle",{attrs:{cx:"46.2",cy:"35",r:"3.7"}}),n("path",{attrs:{d:"M63.7,31.3c-3.1-8.7-11.4-15-21.2-15l-7.5,0c-6.1,0-11.3,3.6-13.7,8.8c-5.2,2.4-8.8,7.6-8.8,13.7v30H20v15h37.5V61.2l7.5,0  c12.4,0,22.5-10.1,22.5-22.5v-7.5H63.7z M65,53.7h-7.5c-4.1,0-7.5,3.4-7.5,7.5v15H27.5v-7.5c8.3,0,15-6.7,15-15v-7.5  c0-2.1-1.7-3.7-3.8-3.7S35,44.2,35,46.3v7.5c0,4.1-3.4,7.5-7.5,7.5l-7.5,0V38.8c0-4.1,3.4-7.5,7.5-7.5c0-4.1,3.4-7.5,7.5-7.5h7.5  c8.3,0,15,6.7,15,15H65h15C80,47,73.3,53.7,65,53.7z"}})])]),n("div",{staticClass:"envelope-info--price"},[n("h2",[e._v(e._s(e.envelope.initialBalance||0)+" "+e._s(e.tokenName))])]),n("div",{staticClass:"envelope-info--claim-details"},[n("p",[n("span",[e._v(e._s(e.$t("claim.total_claims"))+": "+e._s(e.envelope.totalClaimers||0))])])]),n("div",{staticClass:"envelope-info--message"},[n("h2",[e._v(e._s(e.envelope.message||e.$t("create.comment_placeholder")))]),n("p",[e._v("– "+e._s(e.envelope.nickname||e.$t("create.from.placeholder")))])])])])])},i=[],o=n("0d1e"),s=n.n(o),a=new s.a({host:"ipfs.infura.io",port:5001,protocol:"https"}),c={name:"AfterClaimCard",props:{tokenName:String,envelope:Object},mounted:function(){var e=this;this.envelope.messageLink&&a.cat(this.envelope.messageLink).then(function(t){e.envelope.message=t})},watch:{"envelope.messageLink":function(e,t){var n=this;this.envelope.messageLink&&a.cat(e).then(function(e){n.envelope.message=e})}},methods:{}},u=c,l=n("17cc"),f=Object(l["a"])(u,r,i,!1,null,null,null);t["a"]=f.exports},a38f:function(e,t,n){"use strict";var r=n("f109"),i=n.n(r);function o(e){if(i()(e))return e}var s=n("2696"),a=n.n(s);function c(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var s,c=a()(e);!(r=(s=c.next()).done);r=!0)if(n.push(s.value),t&&n.length===t)break}catch(u){i=!0,o=u}finally{try{r||null==c["return"]||c["return"]()}finally{if(i)throw o}}return n}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function l(e,t){return o(e)||c(e,t)||u()}n.d(t,"a",function(){return l})},a59e:function(e,t,n){e.exports=n("3365")},a5d0:function(e,t,n){e.exports=n("a945")},a911:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return a});var r=n("45c6"),i=n("23a6"),o=n("1b3a"),s=n("2353");class a{static decode(t){try{const r=c.decode(t);return new a(r)}catch(n){const r=u.decode(t),i=r.signature;delete r.signature;const o=new a(r);return o.signature=e.from(i.slice(2),"hex"),o}}constructor(e){this.body=Object.assign({},e,{reserved:e.reserved||[]})}get id(){if(!this.signature)return null;try{const t=Object(r["a"])(c.encode(this.body)),n=i["a"].recover(t,this.signature),s=Object(o["b"])(n);return"0x"+Object(r["a"])(t,s).toString("hex")}catch(e){return null}}get signer(){if(!this.signature)return null;try{const t=Object(r["a"])(c.encode(this.body)),n=i["a"].recover(t,this.signature);return"0x"+Object(o["b"])(n).toString("hex")}catch(e){return null}}get intrinsicGas(){return a.intrinsicGas(this.body.clauses)}encode(){if(this.signature){const e="0x"+this.signature.toString("hex");return u.encode(Object.assign({},this.body,{signature:e}))}return c.encode(this.body)}}(function(e){function t(e){const t=5e3,r=16e3,i=48e3;return 0===e.length?t+r:e.reduce((e,t)=>{return t.to?e+=r:e+=i,e+=n(t.data),e},t)}function n(e){const t=4,n=68;let r=0;for(let i=2;i<e.length;i+=2)"00"===e.substr(i,2)?r+=t:r+=n;return r}e.intrinsicGas=t})(a||(a={}));const c=new s["a"]({name:"tx",kind:[{name:"chainTag",kind:new s["a"].NumericKind(1)},{name:"blockRef",kind:new s["a"].CompactFixedBlobKind(8)},{name:"expiration",kind:new s["a"].NumericKind(4)},{name:"clauses",kind:{item:[{name:"to",kind:new s["a"].NullableFixedBlobKind(20)},{name:"value",kind:new s["a"].NumericKind(32)},{name:"data",kind:new s["a"].BlobKind}]}},{name:"gasPriceCoef",kind:new s["a"].NumericKind(1)},{name:"gas",kind:new s["a"].NumericKind(8)},{name:"dependsOn",kind:new s["a"].NullableFixedBlobKind(32)},{name:"nonce",kind:new s["a"].NumericKind(8)},{name:"reserved",kind:new s["a"].RawKind}]}),u=new s["a"]({name:"tx",kind:[...c.profile.kind,{name:"signature",kind:new s["a"].BlobKind}]})}).call(this,n("1c3f").Buffer)},a945:function(e,t,n){n("98be"),n("4d6c"),e.exports=n("97b2")},b0e1:function(e,t,n){var r=n("471d");r(r.S,"Array",{isArray:n("5fdf")})},b21e:function(e,t,n){e.exports=n("92dd")},b5ad:function(e,t,n){"use strict";var r=n("caa4")(!0);n("1145")(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},c099:function(e,t,n){var r;(function(i){"use strict";var o,s=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,a=Math.ceil,c=Math.floor,u="[BigNumber Error] ",l=u+"Number primitive has more than 15 significant digits: ",f=1e14,d=14,h=9007199254740991,v=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],p=1e7,m=1e9;function g(e){var t,n,r,i=B.prototype={constructor:B,toString:null,valueOf:null},o=new B(1),A=20,L=4,N=-7,O=21,E=-1e7,T=1e7,M=!1,$=1,P=0,I={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:" ",fractionGroupSize:0},R="0123456789abcdefghijklmnopqrstuvwxyz";function B(e,t){var i,o,a,u,f,v,p,m,g=this;if(!(g instanceof B))return new B(e,t);if(null==t){if(e instanceof B)return g.s=e.s,g.e=e.e,void(g.c=(e=e.c)?e.slice():e);if(v="number"==typeof e,v&&0*e==0){if(g.s=1/e<0?(e=-e,-1):1,e===~~e){for(u=0,f=e;f>=10;f/=10,u++);return g.e=u,void(g.c=[e])}m=e+""}else{if(!s.test(m=e+""))return r(g,m,v);g.s=45==m.charCodeAt(0)?(m=m.slice(1),-1):1}(u=m.indexOf("."))>-1&&(m=m.replace(".","")),(f=m.search(/e/i))>0?(u<0&&(u=f),u+=+m.slice(f+1),m=m.substring(0,f)):u<0&&(u=m.length)}else{if(x(t,2,R.length,"Base"),m=e+"",10==t)return g=new B(e instanceof B?e:m),U(g,A+g.e+1,L);if(v="number"==typeof e,v){if(0*e!=0)return r(g,m,v,t);if(g.s=1/e<0?(m=m.slice(1),-1):1,B.DEBUG&&m.replace(/^0\.0*|\./,"").length>15)throw Error(l+e);v=!1}else g.s=45===m.charCodeAt(0)?(m=m.slice(1),-1):1;for(i=R.slice(0,t),u=f=0,p=m.length;f<p;f++)if(i.indexOf(o=m.charAt(f))<0){if("."==o){if(f>u){u=p;continue}}else if(!a&&(m==m.toUpperCase()&&(m=m.toLowerCase())||m==m.toLowerCase()&&(m=m.toUpperCase()))){a=!0,f=-1,u=0;continue}return r(g,e+"",v,t)}m=n(m,t,10,g.s),(u=m.indexOf("."))>-1?m=m.replace(".",""):u=m.length}for(f=0;48===m.charCodeAt(f);f++);for(p=m.length;48===m.charCodeAt(--p););if(m=m.slice(f,++p),m){if(p-=f,v&&B.DEBUG&&p>15&&(e>h||e!==c(e)))throw Error(l+g.s*e);if(u=u-f-1,u>T)g.c=g.e=null;else if(u<E)g.c=[g.e=0];else{if(g.e=u,g.c=[],f=(u+1)%d,u<0&&(f+=d),f<p){for(f&&g.c.push(+m.slice(0,f)),p-=d;f<p;)g.c.push(+m.slice(f,f+=d));m=m.slice(f),f=d-m.length}else f-=p;for(;f--;m+="0");g.c.push(+m)}}else g.c=[g.e=0]}function j(e,t,n,r){var i,o,s,a,c;if(null==n?n=L:x(n,0,8),!e.c)return e.toString();if(i=e.c[0],s=e.e,null==t)c=w(e.c),c=1==r||2==r&&s<=N?k(c,s):S(c,s,"0");else if(e=U(new B(e),t,n),o=e.e,c=w(e.c),a=c.length,1==r||2==r&&(t<=o||o<=N)){for(;a<t;c+="0",a++);c=k(c,o)}else if(t-=s,c=S(c,o,"0"),o+1>a){if(--t>0)for(c+=".";t--;c+="0");}else if(t+=o-a,t>0)for(o+1==a&&(c+=".");t--;c+="0");return e.s<0&&i?"-"+c:c}function D(e,t){var n,r,i=0;for(_(e[0])&&(e=e[0]),n=new B(e[0]);++i<e.length;){if(r=new B(e[i]),!r.s){n=r;break}t.call(n,r)&&(n=r)}return n}function F(e,t,n){for(var r=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,r++);return(n=r+n*d-1)>T?e.c=e.e=null:n<E?e.c=[e.e=0]:(e.e=n,e.c=t),e}function U(e,t,n,r){var i,o,s,u,l,h,p,m=e.c,g=v;if(m){e:{for(i=1,u=m[0];u>=10;u/=10,i++);if(o=t-i,o<0)o+=d,s=t,l=m[h=0],p=l/g[i-s-1]%10|0;else if(h=a((o+1)/d),h>=m.length){if(!r)break e;for(;m.length<=h;m.push(0));l=p=0,i=1,o%=d,s=o-d+1}else{for(l=u=m[h],i=1;u>=10;u/=10,i++);o%=d,s=o-d+i,p=s<0?0:l/g[i-s-1]%10|0}if(r=r||t<0||null!=m[h+1]||(s<0?l:l%g[i-s-1]),r=n<4?(p||r)&&(0==n||n==(e.s<0?3:2)):p>5||5==p&&(4==n||r||6==n&&(o>0?s>0?l/g[i-s]:0:m[h-1])%10&1||n==(e.s<0?8:7)),t<1||!m[0])return m.length=0,r?(t-=e.e+1,m[0]=g[(d-t%d)%d],e.e=-t||0):m[0]=e.e=0,e;if(0==o?(m.length=h,u=1,h--):(m.length=h+1,u=g[d-o],m[h]=s>0?c(l/g[i-s]%g[s])*u:0),r)for(;;){if(0==h){for(o=1,s=m[0];s>=10;s/=10,o++);for(s=m[0]+=u,u=1;s>=10;s/=10,u++);o!=u&&(e.e++,m[0]==f&&(m[0]=1));break}if(m[h]+=u,m[h]!=f)break;m[h--]=0,u=1}for(o=m.length;0===m[--o];m.pop());}e.e>T?e.c=e.e=null:e.e<E&&(e.c=[e.e=0])}return e}return B.clone=g,B.ROUND_UP=0,B.ROUND_DOWN=1,B.ROUND_CEIL=2,B.ROUND_FLOOR=3,B.ROUND_HALF_UP=4,B.ROUND_HALF_DOWN=5,B.ROUND_HALF_EVEN=6,B.ROUND_HALF_CEIL=7,B.ROUND_HALF_FLOOR=8,B.EUCLID=9,B.config=B.set=function(e){var t,n;if(null!=e){if("object"!=typeof e)throw Error(u+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(n=e[t],x(n,0,m,t),A=n),e.hasOwnProperty(t="ROUNDING_MODE")&&(n=e[t],x(n,0,8,t),L=n),e.hasOwnProperty(t="EXPONENTIAL_AT")&&(n=e[t],_(n)?(x(n[0],-m,0,t),x(n[1],0,m,t),N=n[0],O=n[1]):(x(n,-m,m,t),N=-(O=n<0?-n:n))),e.hasOwnProperty(t="RANGE"))if(n=e[t],_(n))x(n[0],-m,-1,t),x(n[1],1,m,t),E=n[0],T=n[1];else{if(x(n,-m,m,t),!n)throw Error(u+t+" cannot be zero: "+n);E=-(T=n<0?-n:n)}if(e.hasOwnProperty(t="CRYPTO")){if(n=e[t],n!==!!n)throw Error(u+t+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw M=!n,Error(u+"crypto unavailable");M=n}else M=n}if(e.hasOwnProperty(t="MODULO_MODE")&&(n=e[t],x(n,0,9,t),$=n),e.hasOwnProperty(t="POW_PRECISION")&&(n=e[t],x(n,0,m,t),P=n),e.hasOwnProperty(t="FORMAT")){if(n=e[t],"object"!=typeof n)throw Error(u+t+" not an object: "+n);I=n}if(e.hasOwnProperty(t="ALPHABET")){if(n=e[t],"string"!=typeof n||/^.$|\.|(.).*\1/.test(n))throw Error(u+t+" invalid: "+n);R=n}}return{DECIMAL_PLACES:A,ROUNDING_MODE:L,EXPONENTIAL_AT:[N,O],RANGE:[E,T],CRYPTO:M,MODULO_MODE:$,POW_PRECISION:P,FORMAT:I,ALPHABET:R}},B.isBigNumber=function(e){return e instanceof B||e&&!0===e._isBigNumber||!1},B.maximum=B.max=function(){return D(arguments,i.lt)},B.minimum=B.min=function(){return D(arguments,i.gt)},B.random=function(){var e=9007199254740992,t=Math.random()*e&2097151?function(){return c(Math.random()*e)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)};return function(e){var n,r,i,s,l,f=0,h=[],p=new B(o);if(null==e?e=A:x(e,0,m),s=a(e/d),M)if(crypto.getRandomValues){for(n=crypto.getRandomValues(new Uint32Array(s*=2));f<s;)l=131072*n[f]+(n[f+1]>>>11),l>=9e15?(r=crypto.getRandomValues(new Uint32Array(2)),n[f]=r[0],n[f+1]=r[1]):(h.push(l%1e14),f+=2);f=s/2}else{if(!crypto.randomBytes)throw M=!1,Error(u+"crypto unavailable");for(n=crypto.randomBytes(s*=7);f<s;)l=281474976710656*(31&n[f])+1099511627776*n[f+1]+4294967296*n[f+2]+16777216*n[f+3]+(n[f+4]<<16)+(n[f+5]<<8)+n[f+6],l>=9e15?crypto.randomBytes(7).copy(n,f):(h.push(l%1e14),f+=7);f=s/7}if(!M)for(;f<s;)l=t(),l<9e15&&(h[f++]=l%1e14);for(s=h[--f],e%=d,s&&e&&(l=v[d-e],h[f]=c(s/l)*l);0===h[f];h.pop(),f--);if(f<0)h=[i=0];else{for(i=-1;0===h[0];h.splice(0,1),i-=d);for(f=1,l=h[0];l>=10;l/=10,f++);f<d&&(i-=d-f)}return p.e=i,p.c=h,p}}(),n=function(){var e="0123456789";function n(e,t,n,r){for(var i,o,s=[0],a=0,c=e.length;a<c;){for(o=s.length;o--;s[o]*=t);for(s[0]+=r.indexOf(e.charAt(a++)),i=0;i<s.length;i++)s[i]>n-1&&(null==s[i+1]&&(s[i+1]=0),s[i+1]+=s[i]/n|0,s[i]%=n)}return s.reverse()}return function(r,i,o,s,a){var c,u,l,f,d,h,v,p,m=r.indexOf("."),g=A,y=L;for(m>=0&&(f=P,P=0,r=r.replace(".",""),p=new B(i),h=p.pow(r.length-m),P=f,p.c=n(S(w(h.c),h.e,"0"),10,o,e),p.e=p.c.length),v=n(r,i,o,a?(c=R,e):(c=e,R)),l=f=v.length;0==v[--f];v.pop());if(!v[0])return c.charAt(0);if(m<0?--l:(h.c=v,h.e=l,h.s=s,h=t(h,p,g,y,o),v=h.c,d=h.r,l=h.e),u=l+g+1,m=v[u],f=o/2,d=d||u<0||null!=v[u+1],d=y<4?(null!=m||d)&&(0==y||y==(h.s<0?3:2)):m>f||m==f&&(4==y||d||6==y&&1&v[u-1]||y==(h.s<0?8:7)),u<1||!v[0])r=d?S(c.charAt(1),-g,c.charAt(0)):c.charAt(0);else{if(v.length=u,d)for(--o;++v[--u]>o;)v[u]=0,u||(++l,v=[1].concat(v));for(f=v.length;!v[--f];);for(m=0,r="";m<=f;r+=c.charAt(v[m++]));r=S(r,l,c.charAt(0))}return r}}(),t=function(){function e(e,t,n){var r,i,o,s,a=0,c=e.length,u=t%p,l=t/p|0;for(e=e.slice();c--;)o=e[c]%p,s=e[c]/p|0,r=l*o+s*u,i=u*o+r%p*p+a,a=(i/n|0)+(r/p|0)+l*s,e[c]=i%n;return a&&(e=[a].concat(e)),e}function t(e,t,n,r){var i,o;if(n!=r)o=n>r?1:-1;else for(i=o=0;i<n;i++)if(e[i]!=t[i]){o=e[i]>t[i]?1:-1;break}return o}function n(e,t,n,r){for(var i=0;n--;)e[n]-=i,i=e[n]<t[n]?1:0,e[n]=i*r+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(r,i,o,s,a){var u,l,h,v,p,m,g,w,b,x,_,C,k,S,A,L,N,O=r.s==i.s?1:-1,E=r.c,T=i.c;if(!E||!E[0]||!T||!T[0])return new B(r.s&&i.s&&(E?!T||E[0]!=T[0]:T)?E&&0==E[0]||!T?0*O:O/0:NaN);for(w=new B(O),b=w.c=[],l=r.e-i.e,O=o+l+1,a||(a=f,l=y(r.e/d)-y(i.e/d),O=O/d|0),h=0;T[h]==(E[h]||0);h++);if(T[h]>(E[h]||0)&&l--,O<0)b.push(1),v=!0;else{for(S=E.length,L=T.length,h=0,O+=2,p=c(a/(T[0]+1)),p>1&&(T=e(T,p,a),E=e(E,p,a),L=T.length,S=E.length),k=L,x=E.slice(0,L),_=x.length;_<L;x[_++]=0);N=T.slice(),N=[0].concat(N),A=T[0],T[1]>=a/2&&A++;do{if(p=0,u=t(T,x,L,_),u<0){if(C=x[0],L!=_&&(C=C*a+(x[1]||0)),p=c(C/A),p>1){p>=a&&(p=a-1),m=e(T,p,a),g=m.length,_=x.length;while(1==t(m,x,g,_))p--,n(m,L<g?N:T,g,a),g=m.length,u=1}else 0==p&&(u=p=1),m=T.slice(),g=m.length;if(g<_&&(m=[0].concat(m)),n(x,m,_,a),_=x.length,-1==u)while(t(T,x,L,_)<1)p++,n(x,L<_?N:T,_,a),_=x.length}else 0===u&&(p++,x=[0]);b[h++]=p,x[0]?x[_++]=E[k]||0:(x=[E[k]],_=1)}while((k++<S||null!=x[0])&&O--);v=null!=x[0],b[0]||b.splice(0,1)}if(a==f){for(h=1,O=b[0];O>=10;O/=10,h++);U(w,o+(w.e=h+l*d-1)+1,s,v)}else w.e=l,w.r=+v;return w}}(),r=function(){var e=/^(-?)0([xbo])(?=\w[\w.]*$)/i,t=/^([^.]+)\.$/,n=/^\.([^.]+)$/,r=/^-?(Infinity|NaN)$/,i=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(o,s,a,c){var l,f=a?s:s.replace(i,"");if(r.test(f))o.s=isNaN(f)?null:f<0?-1:1,o.c=o.e=null;else{if(!a&&(f=f.replace(e,function(e,t,n){return l="x"==(n=n.toLowerCase())?16:"b"==n?2:8,c&&c!=l?e:t}),c&&(l=c,f=f.replace(t,"$1").replace(n,"0.$1")),s!=f))return new B(f,l);if(B.DEBUG)throw Error(u+"Not a"+(c?" base "+c:"")+" number: "+s);o.c=o.e=o.s=null}}}(),i.absoluteValue=i.abs=function(){var e=new B(this);return e.s<0&&(e.s=1),e},i.comparedTo=function(e,t){return b(this,new B(e,t))},i.decimalPlaces=i.dp=function(e,t){var n,r,i,o=this;if(null!=e)return x(e,0,m),null==t?t=L:x(t,0,8),U(new B(o),e+o.e+1,t);if(!(n=o.c))return null;if(r=((i=n.length-1)-y(this.e/d))*d,i=n[i])for(;i%10==0;i/=10,r--);return r<0&&(r=0),r},i.dividedBy=i.div=function(e,n){return t(this,new B(e,n),A,L)},i.dividedToIntegerBy=i.idiv=function(e,n){return t(this,new B(e,n),0,1)},i.exponentiatedBy=i.pow=function(e,t){var n,r,i,s,l,f,h,v,p=this;if(e=new B(e),e.c&&!e.isInteger())throw Error(u+"Exponent not an integer: "+e);if(null!=t&&(t=new B(t)),l=e.e>14,!p.c||!p.c[0]||1==p.c[0]&&!p.e&&1==p.c.length||!e.c||!e.c[0])return v=new B(Math.pow(+p.valueOf(),l?2-C(e):+e)),t?v.mod(t):v;if(f=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new B(NaN);r=!f&&p.isInteger()&&t.isInteger(),r&&(p=p.mod(t))}else{if(e.e>9&&(p.e>0||p.e<-1||(0==p.e?p.c[0]>1||l&&p.c[1]>=24e7:p.c[0]<8e13||l&&p.c[0]<=9999975e7)))return i=p.s<0&&C(e)?-0:0,p.e>-1&&(i=1/i),new B(f?1/i:i);P&&(i=a(P/d+2))}for(l?(n=new B(.5),h=C(e)):h=e%2,f&&(e.s=1),v=new B(o);;){if(h){if(v=v.times(p),!v.c)break;i?v.c.length>i&&(v.c.length=i):r&&(v=v.mod(t))}if(l){if(e=e.times(n),U(e,e.e+1,1),!e.c[0])break;l=e.e>14,h=C(e)}else{if(e=c(e/2),!e)break;h=e%2}p=p.times(p),i?p.c&&p.c.length>i&&(p.c.length=i):r&&(p=p.mod(t))}return r?v:(f&&(v=o.div(v)),t?v.mod(t):i?U(v,P,L,s):v)},i.integerValue=function(e){var t=new B(this);return null==e?e=L:x(e,0,8),U(t,t.e+1,e)},i.isEqualTo=i.eq=function(e,t){return 0===b(this,new B(e,t))},i.isFinite=function(){return!!this.c},i.isGreaterThan=i.gt=function(e,t){return b(this,new B(e,t))>0},i.isGreaterThanOrEqualTo=i.gte=function(e,t){return 1===(t=b(this,new B(e,t)))||0===t},i.isInteger=function(){return!!this.c&&y(this.e/d)>this.c.length-2},i.isLessThan=i.lt=function(e,t){return b(this,new B(e,t))<0},i.isLessThanOrEqualTo=i.lte=function(e,t){return-1===(t=b(this,new B(e,t)))||0===t},i.isNaN=function(){return!this.s},i.isNegative=function(){return this.s<0},i.isPositive=function(){return this.s>0},i.isZero=function(){return!!this.c&&0==this.c[0]},i.minus=function(e,t){var n,r,i,o,s=this,a=s.s;if(e=new B(e,t),t=e.s,!a||!t)return new B(NaN);if(a!=t)return e.s=-t,s.plus(e);var c=s.e/d,u=e.e/d,l=s.c,h=e.c;if(!c||!u){if(!l||!h)return l?(e.s=-t,e):new B(h?s:NaN);if(!l[0]||!h[0])return h[0]?(e.s=-t,e):new B(l[0]?s:3==L?-0:0)}if(c=y(c),u=y(u),l=l.slice(),a=c-u){for((o=a<0)?(a=-a,i=l):(u=c,i=h),i.reverse(),t=a;t--;i.push(0));i.reverse()}else for(r=(o=(a=l.length)<(t=h.length))?a:t,a=t=0;t<r;t++)if(l[t]!=h[t]){o=l[t]<h[t];break}if(o&&(i=l,l=h,h=i,e.s=-e.s),t=(r=h.length)-(n=l.length),t>0)for(;t--;l[n++]=0);for(t=f-1;r>a;){if(l[--r]<h[r]){for(n=r;n&&!l[--n];l[n]=t);--l[n],l[r]+=f}l[r]-=h[r]}for(;0==l[0];l.splice(0,1),--u);return l[0]?F(e,l,u):(e.s=3==L?-1:1,e.c=[e.e=0],e)},i.modulo=i.mod=function(e,n){var r,i,o=this;return e=new B(e,n),!o.c||!e.s||e.c&&!e.c[0]?new B(NaN):!e.c||o.c&&!o.c[0]?new B(o):(9==$?(i=e.s,e.s=1,r=t(o,e,0,3),e.s=i,r.s*=i):r=t(o,e,0,$),e=o.minus(r.times(e)),e.c[0]||1!=$||(e.s=o.s),e)},i.multipliedBy=i.times=function(e,t){var n,r,i,o,s,a,c,u,l,h,v,m,g,w,b,x=this,_=x.c,C=(e=new B(e,t)).c;if(!_||!C||!_[0]||!C[0])return!x.s||!e.s||_&&!_[0]&&!C||C&&!C[0]&&!_?e.c=e.e=e.s=null:(e.s*=x.s,_&&C?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=y(x.e/d)+y(e.e/d),e.s*=x.s,c=_.length,h=C.length,c<h&&(g=_,_=C,C=g,i=c,c=h,h=i),i=c+h,g=[];i--;g.push(0));for(w=f,b=p,i=h;--i>=0;){for(n=0,v=C[i]%b,m=C[i]/b|0,s=c,o=i+s;o>i;)u=_[--s]%b,l=_[s]/b|0,a=m*u+l*v,u=v*u+a%b*b+g[o]+n,n=(u/w|0)+(a/b|0)+m*l,g[o--]=u%w;g[o]=n}return n?++r:g.splice(0,1),F(e,g,r)},i.negated=function(){var e=new B(this);return e.s=-e.s||null,e},i.plus=function(e,t){var n,r=this,i=r.s;if(e=new B(e,t),t=e.s,!i||!t)return new B(NaN);if(i!=t)return e.s=-t,r.minus(e);var o=r.e/d,s=e.e/d,a=r.c,c=e.c;if(!o||!s){if(!a||!c)return new B(i/0);if(!a[0]||!c[0])return c[0]?e:new B(a[0]?r:0*i)}if(o=y(o),s=y(s),a=a.slice(),i=o-s){for(i>0?(s=o,n=c):(i=-i,n=a),n.reverse();i--;n.push(0));n.reverse()}for(i=a.length,t=c.length,i-t<0&&(n=c,c=a,a=n,t=i),i=0;t;)i=(a[--t]=a[t]+c[t]+i)/f|0,a[t]=f===a[t]?0:a[t]%f;return i&&(a=[i].concat(a),++s),F(e,a,s)},i.precision=i.sd=function(e,t){var n,r,i,o=this;if(null!=e&&e!==!!e)return x(e,1,m),null==t?t=L:x(t,0,8),U(new B(o),e,t);if(!(n=o.c))return null;if(i=n.length-1,r=i*d+1,i=n[i]){for(;i%10==0;i/=10,r--);for(i=n[0];i>=10;i/=10,r++);}return e&&o.e+1>r&&(r=o.e+1),r},i.shiftedBy=function(e){return x(e,-h,h),this.times("1e"+e)},i.squareRoot=i.sqrt=function(){var e,n,r,i,o,s=this,a=s.c,c=s.s,u=s.e,l=A+4,f=new B("0.5");if(1!==c||!a||!a[0])return new B(!c||c<0&&(!a||a[0])?NaN:a?s:1/0);if(c=Math.sqrt(+s),0==c||c==1/0?(n=w(a),(n.length+u)%2==0&&(n+="0"),c=Math.sqrt(n),u=y((u+1)/2)-(u<0||u%2),c==1/0?n="1e"+u:(n=c.toExponential(),n=n.slice(0,n.indexOf("e")+1)+u),r=new B(n)):r=new B(c+""),r.c[0])for(u=r.e,c=u+l,c<3&&(c=0);;)if(o=r,r=f.times(o.plus(t(s,o,l,1))),w(o.c).slice(0,c)===(n=w(r.c)).slice(0,c)){if(r.e<u&&--c,n=n.slice(c-3,c+1),"9999"!=n&&(i||"4999"!=n)){+n&&(+n.slice(1)||"5"!=n.charAt(0))||(U(r,r.e+A+2,1),e=!r.times(r).eq(s));break}if(!i&&(U(o,o.e+A+2,0),o.times(o).eq(s))){r=o;break}l+=4,c+=4,i=1}return U(r,r.e+A+1,L,e)},i.toExponential=function(e,t){return null!=e&&(x(e,0,m),e++),j(this,e,t,1)},i.toFixed=function(e,t){return null!=e&&(x(e,0,m),e=e+this.e+1),j(this,e,t)},i.toFormat=function(e,t){var n=this.toFixed(e,t);if(this.c){var r,i=n.split("."),o=+I.groupSize,s=+I.secondaryGroupSize,a=I.groupSeparator,c=i[0],u=i[1],l=this.s<0,f=l?c.slice(1):c,d=f.length;if(s&&(r=o,o=s,s=r,d-=r),o>0&&d>0){for(r=d%o||o,c=f.substr(0,r);r<d;r+=o)c+=a+f.substr(r,o);s>0&&(c+=a+f.slice(r)),l&&(c="-"+c)}n=u?c+I.decimalSeparator+((s=+I.fractionGroupSize)?u.replace(new RegExp("\\d{"+s+"}\\B","g"),"$&"+I.fractionGroupSeparator):u):c}return n},i.toFraction=function(e){var n,r,i,s,a,c,l,f,h,p,m,g,y=this,b=y.c;if(null!=e&&(f=new B(e),!f.isInteger()&&(f.c||1!==f.s)||f.lt(o)))throw Error(u+"Argument "+(f.isInteger()?"out of range: ":"not an integer: ")+e);if(!b)return y.toString();for(r=new B(o),p=i=new B(o),s=h=new B(o),g=w(b),c=r.e=g.length-y.e-1,r.c[0]=v[(l=c%d)<0?d+l:l],e=!e||f.comparedTo(r)>0?c>0?r:p:f,l=T,T=1/0,f=new B(g),h.c[0]=0;;){if(m=t(f,r,0,1),a=i.plus(m.times(s)),1==a.comparedTo(e))break;i=s,s=a,p=h.plus(m.times(a=p)),h=a,r=f.minus(m.times(a=r)),f=a}return a=t(e.minus(i),s,0,1),h=h.plus(a.times(p)),i=i.plus(a.times(s)),h.s=p.s=y.s,c*=2,n=t(p,s,c,L).minus(y).abs().comparedTo(t(h,i,c,L).minus(y).abs())<1?[p.toString(),s.toString()]:[h.toString(),i.toString()],T=l,n},i.toNumber=function(){return+this},i.toPrecision=function(e,t){return null!=e&&x(e,1,m),j(this,e,t,2)},i.toString=function(e){var t,r=this,i=r.s,o=r.e;return null===o?i?(t="Infinity",i<0&&(t="-"+t)):t="NaN":(t=w(r.c),null==e?t=o<=N||o>=O?k(t,o):S(t,o,"0"):(x(e,2,R.length,"Base"),t=n(S(t,o,"0"),10,e,i,!0)),i<0&&r.c[0]&&(t="-"+t)),t},i.valueOf=i.toJSON=function(){var e,t=this,n=t.e;return null===n?t.toString():(e=w(t.c),e=n<=N||n>=O?k(e,n):S(e,n,"0"),t.s<0?"-"+e:e)},i._isBigNumber=!0,null!=e&&B.set(e),B}function y(e){var t=0|e;return e>0||e===t?t:t-1}function w(e){for(var t,n,r=1,i=e.length,o=e[0]+"";r<i;){for(t=e[r++]+"",n=d-t.length;n--;t="0"+t);o+=t}for(i=o.length;48===o.charCodeAt(--i););return o.slice(0,i+1||1)}function b(e,t){var n,r,i=e.c,o=t.c,s=e.s,a=t.s,c=e.e,u=t.e;if(!s||!a)return null;if(n=i&&!i[0],r=o&&!o[0],n||r)return n?r?0:-a:s;if(s!=a)return s;if(n=s<0,r=c==u,!i||!o)return r?0:!i^n?1:-1;if(!r)return c>u^n?1:-1;for(a=(c=i.length)<(u=o.length)?c:u,s=0;s<a;s++)if(i[s]!=o[s])return i[s]>o[s]^n?1:-1;return c==u?0:c>u^n?1:-1}function x(e,t,n,r){if(e<t||e>n||e!==(e<0?a(e):c(e)))throw Error(u+(r||"Argument")+("number"==typeof e?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+e)}function _(e){return"[object Array]"==Object.prototype.toString.call(e)}function C(e){var t=e.c.length-1;return y(e.e/d)==t&&e.c[t]%2!=0}function k(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function S(e,t,n){var r,i;if(t<0){for(i=n+".";++t;i+=n);e=i+e}else if(r=e.length,++t>r){for(i=n,t-=r;--t;i+=n);e+=i}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}o=g(),o["default"]=o.BigNumber=o,r=function(){return o}.call(t,n,t,e),void 0===r||(e.exports=r)})()},c17c:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container-fluid"},[e.claimed?n("AfterClaimCard",{attrs:{envelope:e.envelope,tokenName:e.tokenName}}):n("div",{staticClass:"container-fluid envelope-wrap"},[n("div",{staticClass:"container-fluid envelope-container envelope-container--claim envelope--verified envelope-container--red envelope-container--with-card"},[n("div",{staticClass:"container-fluid envelope-info"},[n("div",{staticClass:"row envelope-info--top"},[n("div",{staticClass:"col-xs-5 left-align"},[n("p",[e._v(e._s(e.$t("envelope"))+" #"+e._s(e.envelope.id))])]),n("div",{staticClass:"col-xs-7 right-align"},[n("p",[n("span",[e._v("Expires\n                "),n("time",{attrs:{datetime:"2019-03-07T15:19:30.000Z",title:"2019-03-07 15:19"}},[e._v("in "+e._s(e._f("duration")(1e3*e.envelope.duration,"humanize")))])])])])]),n("div",[n("svg",{staticClass:"svg--icon-dog",attrs:{version:"1.1",x:"0px",y:"0px",viewBox:"0 0 100 100","xml:space":"preserve"}},[n("circle",{attrs:{cx:"46.2",cy:"35",r:"3.7"}}),n("path",{attrs:{d:"M63.7,31.3c-3.1-8.7-11.4-15-21.2-15l-7.5,0c-6.1,0-11.3,3.6-13.7,8.8c-5.2,2.4-8.8,7.6-8.8,13.7v30H20v15h37.5V61.2l7.5,0  c12.4,0,22.5-10.1,22.5-22.5v-7.5H63.7z M65,53.7h-7.5c-4.1,0-7.5,3.4-7.5,7.5v15H27.5v-7.5c8.3,0,15-6.7,15-15v-7.5  c0-2.1-1.7-3.7-3.8-3.7S35,44.2,35,46.3v7.5c0,4.1-3.4,7.5-7.5,7.5l-7.5,0V38.8c0-4.1,3.4-7.5,7.5-7.5c0-4.1,3.4-7.5,7.5-7.5h7.5  c8.3,0,15,6.7,15,15H65h15C80,47,73.3,53.7,65,53.7z"}})])]),n("div",{staticClass:"envelope-info--message"},[n("h2",[e._v(e._s(e.envelope.message||e.$t("create.comment_placeholder")))]),n("p",[e._v("– "+e._s(e.envelope.nickname||e.$t("create.from.placeholder")))])])]),n("div",{staticClass:"envelope--buttons"},[n("div",{staticClass:"envelope--input--disclaimer"},[n("p",[n("span",[e._v(e._s(e.$t("claim.hint")))])])]),n("p",[n("button",{staticClass:"btn btn-env",attrs:{disabled:e.isClaiming},on:{click:e.claim}},[e._v(e._s(e.isClaiming?e.$t("claim.claiming_btn_text")+e.counter:e.$t("claim.claim_btn_text")))])])])])])],1)},i=[],o=n("2f4d"),s=o["a"],a=n("17cc"),c=Object(a["a"])(s,r,i,!1,null,null,null);t["a"]=c.exports},c2e7:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=n("d018");function i(t){if(Array.isArray(t)){for(var n=[],r=0;r<t.length;r++)n.push(i(t[r]));var o=e.concat(n);return e.concat([s(o.length,192),o])}var a=p(t);return 1===a.length&&a[0]<128?a:e.concat([s(a.length,128),a])}function o(e,t){if("00"===e.slice(0,2))throw new Error("invalid RLP: extra zeros");return parseInt(e,t)}function s(t,n){if(t<56)return e.from([t+n]);var r=d(t),i=r.length/2,o=d(n+55+i);return e.from(o+r,"hex")}function a(t,n){if(void 0===n&&(n=!1),!t||0===t.length)return e.from([]);var r=p(t),i=u(r);if(n)return i;if(0!==i.remainder.length)throw new Error("invalid remainder");return i.data}function c(t){if(!t||0===t.length)return e.from([]);var n=p(t),r=n[0];if(r<=127)return n.length;if(r<=183)return r-127;if(r<=191)return r-182;if(r<=247)return r-191;var i=r-246,s=o(n.slice(1,i).toString("hex"),16);return i+s}function u(t){var n,r,i,s,a,c=[],l=t[0];if(l<=127)return{data:t.slice(0,1),remainder:t.slice(1)};if(l<=183){if(n=l-127,i=128===l?e.from([]):t.slice(1,n),2===n&&i[0]<128)throw new Error("invalid rlp encoding: byte must be less 0x80");return{data:i,remainder:t.slice(n)}}if(l<=191){if(r=l-182,n=o(t.slice(1,r).toString("hex"),16),i=t.slice(r,n+r),i.length<n)throw new Error("invalid RLP");return{data:i,remainder:t.slice(n+r)}}if(l<=247){n=l-191,s=t.slice(1,n);while(s.length)a=u(s),c.push(a.data),s=a.remainder;return{data:c,remainder:t.slice(n)}}r=l-246,n=o(t.slice(1,r).toString("hex"),16);var f=r+n;if(f>t.length)throw new Error("invalid rlp: total length is larger than the data");if(s=t.slice(r,f),0===s.length)throw new Error("invalid rlp, List has a invalid length");while(s.length)a=u(s),c.push(a.data),s=a.remainder;return{data:c,remainder:t.slice(f)}}function l(e){return"0x"===e.slice(0,2)}function f(e){return"string"!==typeof e?e:l(e)?e.slice(2):e}function d(e){if(e<0)throw new Error("Invalid integer as argument, must be unsigned!");var t=e.toString(16);return t.length%2?"0"+t:t}function h(e){return e.length%2?"0"+e:e}function v(t){var n=d(t);return e.from(n,"hex")}function p(t){if(!e.isBuffer(t)){if("string"===typeof t)return l(t)?e.from(h(f(t)),"hex"):e.from(t);if("number"===typeof t)return t?v(t):e.from([]);if(null===t||void 0===t)return e.from([]);if(t instanceof Uint8Array)return e.from(t);if(r.isBN(t))return e.from(t.toArray());throw new Error("invalid type")}return t}t.encode=i,t.decode=a,t.getLength=c}).call(this,n("1c3f").Buffer)},c41d:function(e,t,n){"use strict";var r=n("f109"),i=n.n(r);function o(e){if(i()(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}var s=n("b21e"),a=n.n(s),c=n("a5d0"),u=n.n(c);function l(e){if(u()(Object(e))||"[object Arguments]"===Object.prototype.toString.call(e))return a()(e)}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function d(e){return o(e)||l(e)||f()}n.d(t,"a",function(){return d})},caa4:function(e,t,n){var r=n("ae63"),i=n("2b11");e.exports=function(e){return function(t,n){var o,s,a=String(i(t)),c=r(n),u=a.length;return c<0||c>=u?e?"":void 0:(o=a.charCodeAt(c),o<55296||o>56319||c+1===u||(s=a.charCodeAt(c+1))<56320||s>57343?e?a.charAt(c):o:e?a.slice(c,c+2):s-56320+(o-55296<<10)+65536)}}},cb21:function(e,t,n){},d317:function(e,t,n){var r=n("0bc6"),i=n("0811");e.exports=n("836e").getIterator=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return r(t.call(e))}},d770e:function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},dd02:function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(t){return{e:!0,v:t}}}},e1bd:function(e,t,n){var r=n("0bc6"),i=n("38cc"),o=n("154a");e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e),s=n.resolve;return s(t),n.promise}},f109:function(e,t,n){e.exports=n("0195")},f1eb:function(e,t,n){"use strict";var r=n("cb21"),i=n.n(r);i.a},f703:function(e,t,n){"use strict";var r=n("a051"),i=n("836e"),o=n("4cf4"),s=n("690a"),a=n("0902")("species");e.exports=function(e){var t="function"==typeof i[e]?i[e]:r[e];s&&t&&!t[a]&&o.f(t,a,{configurable:!0,get:function(){return this}})}},f7bf:function(e,t,n){"use strict";(function(e){var r=n("1f09"),i=n.n(r),o=n("c41d"),s=(n("3a23"),n("84db")),a=n.n(s),c=n("056e"),u=n.n(c),l=n("a38f"),f=n("a59e"),d=n.n(f),h=(n("612f"),n("b5ad"),n("48fb"),n("025e")),v=n("1f10"),p=n.n(v),m=n("39b2"),g=n("7886"),y=n("c17c"),w=n("a1fe"),b=n("81fc"),x=n("3949"),_=n("6fea");t["a"]={name:"Claim",components:{CertModal:m["default"],ShareCard:b["a"],RedPacketInfo:g["a"],ClaimCard:y["a"],AfterClaimCard:w["a"]},data:function(){return{network:"unkonwn",address:"",visitor:"",shareLink:window.location.href,accountLink:"",role:"",isCreator:!1,hasConnex:!1,showInptModal:!0,showCertModal:!1,tokenName:"VET",envelope:{}}},created:function(){var t=this;this.network=this.$config.network;var n,r=this.$route.params,i=r.packet_id,o=r.code;this.$set(this.envelope,"id",i);try{n=atob(o).slice(2)}catch(a){return void(window.location.href="#/404")}var s=localStorage.getItem("claimed:".concat(this.network,"_").concat(i));s&&h["a"].isAddress(s)&&(this.address=s),window.connex&&(this.hasConnex=!0,this.showInptModal=!1,this.showCertModal=!0),this.getRevealInfo().then(function(){var r=x["a"].secp256k1.derivePublicKey(e.from(n,"hex")),i="0x"+x["a"].publicKeyToAddress(r).toString("hex");if(t.envelope.secretSigner.toLowerCase()==i)if(window.connex){var o=connex.vendor.sign("cert");o.request({purpose:"identification",payload:{type:"text",content:"Confirm that you would like this site to access your account"}}).then(function(e){return t.showCertModal=!1,t.setAccount(e.annex.signer),t.getPacketInfo().then(function(){return t.setUserRole()})})}else t.handleContinue();else window.location.href="#/404"})},methods:{setLocale:function(e){localStorage.setItem("local",e),this.$i18n.locale=e},isAddress:function(){return h["a"].isAddress(this.address)},setAccount:function(e){this.visitor=e,this.accountLink=this.$config.accountBaseUrl+"/accounts"+this.visitor},handleContinue:function(){var e=this;this.isAddress()&&(this.showInptModal=!1,this.setAccount(this.address),this.getPacketInfo().then(function(){return e.setUserRole()}))},setUserRole:function(){this.role=this.envelope.creator.toLowerCase()==this.visitor.toLowerCase()?"creator":"claimer"},getPacketInfo:function(){var e=this,t=this,n={constant:!0,inputs:[{name:"_id",type:"uint256"}],name:"getEnvelopeInfo",outputs:[{name:"",type:"uint8"},{name:"",type:"uint8"},{name:"",type:"address"},{name:"",type:"string"},{name:"",type:"uint64"},{name:"",type:"string"},{name:"",type:"uint64"}],payable:!1,stateMutability:"view",type:"function"},r={constant:!0,inputs:[{name:"_id",type:"uint256"},{name:"_claimer",type:"address"}],name:"getClaimInfo",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"};return d.a.all([this.callMethod(n,[this.envelope.id]),this.callMethod(r,[this.envelope.id,t.visitor])]).then(function(n){var r=Object(l["a"])(n,2),i=r[0],o=r[1],s=u()(+new Date/1e3);e.$set(t.envelope,"type",i[0]),e.$set(t.envelope,"status",i[1]),e.$set(t.envelope,"creator",i[2]),e.$set(t.envelope,"nickname",i[3]),e.$set(t.envelope,"expireAt",i[4]),e.$set(t.envelope,"duration",u()(i[4])-s),e.$set(t.envelope,"message",""),e.$set(t.envelope,"messageLink",i[5]),e.$set(t.envelope,"claimed",new p.a(o[0]).div(Math.pow(10,18)).toFixed(2)),t.tokenName=t.getTokenNameByAddress(t.envelope.tokenAddress)})},getRevealInfo:function(){var e=this,t={constant:!0,inputs:[{name:"_id",type:"uint256"}],name:"getEnvelopeReveal",outputs:[{name:"",type:"address"},{name:"",type:"uint64"},{name:"",type:"uint64"},{name:"",type:"uint256"},{name:"",type:"uint256"},{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"};return this.callMethod(t,[this.envelope.id]).then(function(t){e.$set(e.envelope,"tokenAddress",t[0]),e.$set(e.envelope,"claimers",u()(t[1])),e.$set(e.envelope,"totalClaimers",u()(t[2])),e.$set(e.envelope,"initialBalance",new p.a(t[3]).div(Math.pow(10,18)).toFixed(2)),e.$set(e.envelope,"remaining",new p.a(t[4]).div(Math.pow(10,18)).toFixed(2)),e.$set(e.envelope,"secretSigner",t[5])})},getTokenNameByAddress:function(e){var t=this,n="VET";return"0x0000000000000000000000000000000000000000"==e?n:(a()(this.$config.tokens).forEach(function(r){t.$config.tokens[r].toLowerCase()!=e.toLowerCase()||(n=r)}),n)},callMethod:function(e,t){var n=new _["a"].Function(e),r=n.encode.apply(n,Object(o["a"])(t)),s={data:r,value:"0x0"};return this.visitor&&(s.caller=this.visitor),fetch(this.$config.providerUrl+"/accounts/".concat(this.$config.contract),{body:i()(s),headers:{"content-type":"application/json"},method:"POST"}).then(function(e){return e.json()}).then(function(t){var n=_["a"].decodeParameters(e.outputs,t.data);return n})}}}}).call(this,n("1c3f").Buffer)}}]);
//# sourceMappingURL=claim.066a8b60.js.map